# Tutorial 7: React基礎

## Chapter 1: Reactの基本概念

### Section 3: コンポーネントの作成と再利用

🎯 **このセクションで学ぶこと**

-   Reactにおける**コンポーネント**の概念を理解する。
-   **関数コンポーネント**を自分で定義し、別のコンポーネントから呼び出せるようになる。
-   コンポーネントを再利用することで、コードの重複をなくし、保守性を高めるメリットを体験する。

--- 

### イントロダクション：UIを「部品」に分割する

React開発の核となる考え方が、**コンポーネント指向**です。これは、複雑なUIを、再利用可能な独立した「部品」＝**コンポーネント**に分割して組み立てていくアプローチです。

例えば、Twitterのタイムラインを考えてみましょう。これは、以下のようなコンポーネントの組み合わせとして捉えることができます。

-   `Header`コンポーネント
-   `TweetForm`コンポーネント（ツイート入力欄）
-   `TweetList`コンポーネント
    -   `Tweet`コンポーネント（個々のツイート）
        -   `Avatar`コンポーネント（アイコン）
        -   `UserInfo`コンポーネント（名前やID）
        -   `TweetActions`コンポーネント（返信、RT、いいねボタン）

このようにUIを部品化することで、一つ一つの部品の開発に集中でき、また、一度作った部品は別の場所でも再利用できます。このセクションでは、この強力なコンポーネントを作成する方法を学びます。

--- 

### ⚙️ 関数コンポーネントの作成

Reactのコンポーネントは、現在では**関数コンポーネント**として作成するのが主流です。関数コンポーネントは、その名の通り、**JSXを返すJavaScriptの関数**です。

コンポーネントを作成する際には、2つの重要なルールがあります。

1.  **コンポーネント名の最初の文字は必ず大文字にする。** (`MyButton`など)
    -   これにより、Reactは通常のHTMLタグ（`div`, `p`など）とカスタムコンポーネントを区別します。
2.  **コンポーネントはJSXを`return`する。**

**例：単純なボタンコンポーネント**

```jsx
// Button.js

// "Button" という名前の関数コンポーネントを定義
function Button() {
  return (
    <button>私はボタンです</button>
  );
}
```

これだけで、`Button`という名前のReactコンポーネントが完成です。

--- 

### 🚀 コンポーネントの呼び出しと再利用

作成したコンポーネントは、他のコンポーネントの中から、まるでHTMLタグのようにして呼び出すことができます。

まず、アプリケーションのルートとなる`App`コンポーネントを作成し、その中で先ほどの`Button`コンポーネントを呼び出してみましょう。

コンポーネントを別のファイルから利用するには、`export`と`import`を使います。

**1. コンポーネントをエクスポートする**

```jsx
// Button.js

function Button() {
  return (
    <button>私はボタンです</button>
  );
}

// 他のファイルで使えるようにエクスポート
export default Button;
```

**2. コンポーネントをインポートして利用する**

```jsx
// App.js

import Button from './Button'; // Buttonコンポーネントをインポート

function App() {
  return (
    <div>
      <h1>ようこそ、私のアプリへ！</h1>
      <Button /> {/* Buttonコンポーネントを呼び出し */}
    </div>
  );
}

export default App;
```

`App`コンポーネントの中で`<Button />`と記述するだけで、`Button.js`で定義したボタンがその場所にレンダリング（描画）されます。

#### コンポーネントの再利用

コンポーネントの真価は、その**再利用性**にあります。一度定義したコンポーネントは、何度でも好きなだけ呼び出すことができます。

```jsx
// App.js

import Button from './Button';

function App() {
  return (
    <div>
      <h1>ようこそ、私のアプリへ！</h1>
      <Button />
      <Button />
      <Button />
    </div>
  );
}
```

もしボタンのデザインを変更したくなった場合、`Button.js`ファイルを修正するだけで、アプリケーション内のすべての`<Button />`コンポーネントに一括で変更が反映されます。これにより、コードの重複が避けられ、保守性が劇的に向上します。

--- 

### ⚙️ コンポーネントの親子関係（ネスト）

コンポーネントは、他のコンポーネントを内包することもできます。これにより、UIの階層構造を直感的に表現できます。

**例：プロフィールカード**

```jsx
// Avatar.js
export default function Avatar() {
  return <img src="/avatar.png" alt="アバター" />;
}

// UserInfo.js
export default function UserInfo() {
  return (
    <div>
      <p>名前: 山田 太郎</p>
      <p>職業: エンジニア</p>
    </div>
  );
}

// ProfileCard.js
import Avatar from './Avatar';
import UserInfo from './UserInfo';

export default function ProfileCard() {
  return (
    <div className="card">
      <Avatar />   {/* 子コンポーネント */}
      <UserInfo /> {/* 子コンポーネント */}
    </div>
  );
}
```

`ProfileCard`コンポーネントは、`Avatar`と`UserInfo`という2つの子コンポーネントから構成されています。このように、小さな部品を組み合わせて、より大きな部品を作っていくのがReactの基本的な開発スタイルです。

--- 

✨ **まとめ**

-   **コンポーネント**は、UIを構成する独立した再利用可能な部品である。
-   Reactでは、**JSXを返すJavaScript関数**としてコンポーネントを定義する（**関数コンポーネント**）。
-   コンポーネント名の**先頭は必ず大文字**にする。
-   `export`と`import`を使って、コンポーネントをファイル間でやり取りする。
-   作成したコンポーネントは、HTMLタグのように`<MyComponent />`と記述して呼び出すことができる。
-   コンポーネントを再利用することで、コードの重複をなくし、保守性を大幅に向上させることができる。

📝 **学習のポイント**

-   [ ] なぜコンポーネント名の先頭を大文字にする必要があるのでしょうか？ もし小文字で始めた場合、Reactはそれを何として解釈しようとするでしょうか？
-   [ ] あなたの好きなWebサイトのヘッダー部分を想像してください。これをReactで実装する場合、どのようなコンポーネントに分割できるか考えてみましょう。（例: `Logo`, `NavigationLinks`, `SearchForm`, `LoginButton`など）
-   [ ] `Button`コンポーネントを100回再利用した場合と、`<button>`タグを100回コピペした場合の、保守性の違いについて説明してください。
