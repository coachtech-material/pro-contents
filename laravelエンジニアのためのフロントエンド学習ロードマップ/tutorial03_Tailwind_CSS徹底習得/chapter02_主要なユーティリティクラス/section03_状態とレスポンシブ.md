# Tutorial 3: Tailwind CSS徹底習得

## Chapter 2: 主要なユーティリティクラス

### Section 3: 状態とレスポンシブ - インタラクティブなUIとマルチデバイス対応

🖼️ **完成形のイメージ**

このセクションでは、Tailwind CSSの最も強力な機能の一つである「バリアント」を学びます。バリアントを使うことで、マウスが乗った時 (`hover`) のスタイル変化や、画面サイズに応じたレスポンシブデザインを、驚くほどシンプルにHTML内で直接記述できるようになります。

*ここにスクリーンショットを挿入: (1)マウスホバーで色が変わるボタン (2)PCでは横並び、スマートフォンでは縦並びになるカードリスト。それぞれのHTMLコードには `hover:bg-blue-700` や `md:flex` といったプレフィックス付きのクラスが使われている様子がわかる*

--- 

🎯 **このセクションで学ぶこと**

このセクションでは、静的なデザインをインタラクティブで適応性のあるUIへと進化させる方法を習得します。このセクションを終えると、あなたは以下のことができるようになります。

-   `hover:`, `focus:`, `active:` などの状態バリアントを使って、ユーザーの操作に応じたスタイル変化を実装できるようになる。
-   `sm:`, `md:`, `lg:`, `xl:` などのレスポンシブバリアントを使って、異なる画面サイズ（ブレークポイント）ごとに異なるスタイルを適用できるようになる。
-   状態バリアントとレスポンシブバリアントを組み合わせて、より複雑なUIの挙動を宣言的に記述できるようになる。

--- 

### 導入

これまでに学んだユーティリティクラスだけでは、静的なページしか作れません。実際のウェブサイトは、ユーザーの操作（マウスを乗せる、入力欄を選択する）に反応し、また、閲覧しているデバイス（PC、タブレット、スマートフォン）の画面サイズに応じて最適なレイアウトに変化する必要があります。Tailwind CSSでは、これらの動的なスタイル変更を**バリアント (Variants)** というプレフィックスを使って、既存のユーティリティクラスに適用するだけで実現できます。

### 詳細解説

#### 1. 状態バリアント (State Variants)

状態バリアントは、特定の状態（State）の時だけスタイルを適用するためのプレフィックスです。CSSの擬似クラス (`:hover`, `:focus`など) に対応します。

-   **使い方:** `{state}:{utility-class}` の形式で記述します。

-   **主要な状態バリアント:**
    -   `hover`: マウスカーソルが要素の上に乗った時。
    -   `focus`: 要素がフォーカスされた時（入力欄のクリックやTabキーでの選択）。
    -   `active`: 要素がアクティブな時（ボタンがクリックされている間など）。
    -   `disabled`: 要素が無効化されている時（`disabled`属性が付与されている）。
    -   `first`: 兄弟要素の中で最初の要素。
    -   `last`: 兄弟要素の中で最後の要素。
    -   `odd`, `even`: 兄弟要素の中で奇数番目、偶数番目の要素。

-   **コード例 (ホバーエフェクト付きボタン):**
    ```html
    <button class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
      クリックしてね
    </button>
    ```
-   **コードリーディング:**
    -   通常時は `bg-blue-500` (青い背景)。
    -   `hover:` プレフィックスが付いた `hover:bg-blue-700` により、マウスが乗ると背景が `bg-blue-700` (より濃い青) に変化します。
    -   `focus:` プレフィックスが付いたクラスにより、フォーカス時に青いリングが表示され、アクセシビリティが向上します。

#### 2. レスポンシブバリアント (Responsive Variants)

レスポンシブバリアントは、特定の画面幅（ブレークポイント）以上でスタイルを適用するためのプレフィックスです。CSSのメディアクエリ (`@media (min-width: ...)`）に対応します。

-   **使い方:** `{breakpoint}:{utility-class}` の形式で記述します。

-   **デフォルトのブレークポイント:**
    -   `sm` (small): `640px` 以上
    -   `md` (medium): `768px` 以上
    -   `lg` (large): `1024px` 以上
    -   `xl` (extra large): `1280px` 以上
    -   `2xl`: `1536px` 以上
    -   (プレフィックスなし): すべての画面サイズ（モバイルファースト）

-   **モバイルファーストのアプローチ:**
    Tailwindは「モバイルファースト」のアプローチを推奨しています。まずプレフィックスなしのクラスでモバイル向けの基本スタイルを定義し、その後、`md:`などのプレフィックスを使って、より大きな画面向けのスタイルを**上書き**していきます。

-   **コード例 (レスポンシブなグリッドレイアウト):**
    ```html
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <div class="bg-gray-200 p-4">カード1</div>
      <div class="bg-gray-200 p-4">カード2</div>
      <div class="bg-gray-200 p-4">カード3</div>
    </div>
    ```
-   **コードリーディング:**
    -   `grid-cols-1` (プレフィックスなし): デフォルト（モバイル画面）では、1列のグリッド（カードが縦に並ぶ）。
    -   `md:grid-cols-3`: `md` (768px) 以上の画面幅になると、このスタイルが適用され、3列のグリッド（カードが横に並ぶ）に変化します。

#### 3. バリアントの組み合わせ

状態バリアントとレスポンシブバリアントは、自由に組み合わせることができます。

-   **コード例:**
    ```html
    <button class="bg-red-500 md:bg-blue-500 lg:hover:bg-green-500">
      ... 
    </button>
    ```
-   **コードリーディング:**
    -   デフォルトでは赤い背景。
    -   `md` (768px) 以上の画面では青い背景になる。
    -   `lg` (1024px) 以上の画面で、かつマウスホバーした時に、緑の背景になる。

### 💡 TIP

-   **ダークモード:** Tailwindには`dark:`というバリアントもあり、OSのダークモード設定に応じてスタイルを切り替えることができます。`class="bg-white dark:bg-gray-800"`と書けば、通常は白い背景、ダークモード時は濃いグレーの背景になります。（設定で有効化が必要です）

### ✨ まとめ

-   Tailwindのバリアントは、ユーティリティクラスにプレフィックスを付けることで、特定の条件下でのみスタイルを適用する機能である。
-   `hover:`, `focus:` などの状態バリアントは、ユーザーのインタラクションに応じたスタイル変化を可能にする。
-   `sm:`, `md:`, `lg:` などのレスポンシブバリアントは、モバイルファーストのアプローチでマルチデバイス対応のレイアウトを簡単に構築できる。
-   これらのバリアントを組み合わせることで、複雑なUIの挙動もHTML内で宣言的に記述できる。

### 📝 学習のポイント

-   [ ] ボタンの背景色を、通常時は青、マウスが乗ったら緑にするためのクラスを書けるか？
-   [ ] ある要素の文字サイズを、通常は`text-base`、`md`スクリーン以上では`text-lg`にするためのクラスを書けるか？
-   [ ] Tailwindのレスポンシブデザインが「モバイルファースト」であるとはどういうことか説明できるか？
