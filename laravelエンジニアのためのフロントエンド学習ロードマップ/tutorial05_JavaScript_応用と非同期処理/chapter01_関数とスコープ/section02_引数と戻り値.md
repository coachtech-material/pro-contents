# 5-1-2: 引数と戻り値

## Chapter 1: 関数とスコープ

### Section 2: 引数と戻り値

🎯 **このセクションで学ぶこと**

-   関数に**引数**を渡して、外部からデータを与え、処理を動的に変更できるようになる。
-   関数から**戻り値**（`return`）を使って、処理の結果を外部に取り出せるようになる。
-   引数の**デフォルト値**を設定する方法を学ぶ。
-   **Restパラメータ**（`...`）を使い、可変長の引数を受け取れるようになる。

--- 

### イントロダクション：柔軟な「部品」を作る

前のセクションでは、処理を「部品化」する関数について学びました。しかし、`sayHello()`のように、ただ決まった処理を実行するだけの関数は、再利用性が高いとは言えません。同じ挨拶でも、相手の名前を変えたり、時間帯によってメッセージを変えたりしたいはずです。

関数をより柔軟で強力な部品にするために不可欠なのが、**引数（ひきすう）**と**戻り値（もどりち）**です。

-   **引数 (Arguments):** 関数に外部から情報を渡すための「入力口」。
-   **戻り値 (Return Value):** 関数が処理した結果を外部に返すための「出力口」。

これは、PHPの関数と全く同じ概念です。引数でデータを受け取り、中で処理し、`return`で結果を返す。この基本的なデータの流れをマスターすることが、関数を使いこなす鍵となります。

--- 

### ⚙️ 1. 引数 (Arguments)

引数は、関数を呼び出す際に`()`の中に渡す値のことです。関数定義側の`()`の中には、その値を受け取るための変（**仮引数**）を宣言します。

```javascript
// `name`という仮引数を定義
const greet = (name) => {
  console.log(`こんにちは、${name}さん`);
};

// 関数を呼び出す際に、引数として具体的な値を渡す
greet("山田");   // "こんにちは、山田さん"
greet("鈴木");   // "こんにちは、鈴木さん"
```

複数の引数を渡すこともできます。

```javascript
const add = (a, b) => {
  const result = a + b;
  console.log(`${a} + ${b} = ${result}`);
};

add(5, 3); // "5 + 3 = 8"
```

### ⚙️ 2. 戻り値 (Return Value)

戻り値は、関数の処理結果を呼び出し元に返すために使います。`return`キーワードの後ろに返したい値を記述します。

`return`が実行されると、その時点ですぐに関数の実行は終了します。`return`より後ろに書かれたコードは実行されません。

```javascript
const add = (a, b) => {
  // 計算結果を呼び出し元に返す
  return a + b;
  console.log("この行は実行されません");
};

// 関数の戻り値を変数に代入
const sum = add(5, 3);

console.log(sum); // 8

// 関数の戻り値を別の処理に直接使うこともできる
console.log(`10 + 20 = ${add(10, 20)}`); // "10 + 20 = 30"
```

`return`を省略した場合、関数の戻り値は`undefined`になります。

### ⚙️ 3. デフォルト引数 (Default Parameters)

引数が渡されなかった場合に、自動的に使われるデフォルト値を設定できます。PHPと同じく、仮引数の宣言時に`=`を使って指定します。

```javascript
// `role`が渡されなかった場合、デフォルトで"一般ユーザー"が使われる
const createUser = (name, role = "一般ユーザー") => {
  console.log(`名前: ${name}, 権限: ${role}`);
};

createUser("山田");         // "名前: 山田, 権限: 一般ユーザー"
createUser("鈴木", "管理者"); // "名前: 鈴木, 権限: 管理者"
```

### ⚙️ 4. Restパラメータ (Rest Parameters)

関数の引数がいくつ渡されるか分からない場合、**Restパラメータ**（`...`）を使うと、複数の引数を一つの配列として受け取ることができます。これは、仮引数の**最後に**一つだけ置くことができます。

```javascript
// 最初の引数`teamName`は通常通り受け取り、
// それ以降のすべての引数を`members`という配列で受け取る
const createTeam = (teamName, ...members) => {
  console.log(`チーム名: ${teamName}`);
  console.log("メンバー:");
  for (const member of members) {
    console.log(`- ${member}`);
  }
};

createTeam("ヒーローズ", "山田", "鈴木", "田中");
// 出力:
// チーム名: ヒーローズ
// メンバー:
// - 山田
// - 鈴木
// - 田中
```

これは、PHPの`func_get_args()`や可変長引数（`...$args`）と同じような機能を提供します。

--- 

✨ **まとめ**

-   **引数**は関数の「入力口」であり、処理に必要なデータを外部から与える。
-   **戻り値**は関数の「出力口」であり、`return`を使って処理結果を呼び出し元に返す。
-   `return`が実行されると、関数の処理はその場で終了する。
-   **デフォルト引数**を使うと、引数が省略された場合の初期値を設定できる。
-   **Restパラメータ**（`...`）を使うと、可変長の引数を配列としてまとめて受け取ることができる。

📝 **学習のポイント**

-   [ ] 税抜価格を引数として受け取り、10%の消費税込み価格を戻り値として返す`calculateTax`という関数を定義してください。
-   [ ] 2つの引数`name`と`greeting`を受け取り、`"こんにちは、山田さん"`のような挨拶文を返す`greet`関数を定義してください。ただし、`greeting`が省略された場合は`"こんにちは"`が使われるように、デフォルト引数を設定してください。
-   [ ] 複数の数値を引数として受け取り、その合計値を返す`sumAll`という関数を、Restパラメータを使って定義してください。
