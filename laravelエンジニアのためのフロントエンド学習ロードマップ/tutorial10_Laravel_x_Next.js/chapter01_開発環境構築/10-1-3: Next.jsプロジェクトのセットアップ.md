# 10-1-3: Next.jsプロジェクトのセットアップ

## 🎯 このセクションで学ぶこと

-   `create-next-app`コマンドを使って、新しいNext.jsプロジェクトを作成する方法を学ぶ
-   推奨される設定（TypeScript, ESLint, Tailwind CSS, App Router）でプロジェクトを初期化する
-   Next.jsの開発サーバーを起動し、動作確認する方法を習得する

## 導入

バックエンド（Laravel）の準備が整いましたので、次はユーザーが直接触れるフロントエンド部分を構築します。このチュートリアルでは、フロントエンドフレームワークとしてNext.jsを使用します。

Next.jsプロジェクトを始める最も簡単な方法は、公式のCLIツールである`create-next-app`を使うことです。このツールは、プロジェクトの基本的な構造、必要な依存関係、そして推奨される設定を対話形式で自動的にセットアップしてくれます。

## 詳細解説

### 前提条件

-   **Node.js**がインストールされていること（LTS版を推奨）。
    -   まだインストールしていない場合は、公式サイトや`nvm`などのバージョン管理ツールを使ってインストールしてください。

### ステップ1: 新しいNext.jsプロジェクトの作成

ターミナルを開き、Laravelプロジェクト（`laravel-next-app`）と同じ階層のディレクトリに移動します。**Laravelプロジェクトの中にNext.jsプロジェクトを作成しないように注意してください。**

```
- your-workspace/
  - laravel-next-app/  <- バックエンド
  - (ここにNext.jsプロジェクトを作成する)
```

そして、以下のコマンドを実行します。

```bash
npx create-next-app@latest
```

コマンドを実行すると、対話形式でいくつかの質問が表示されます。このチュートリアルでは、以下の設定を選択してください。

```
✔ What is your project named? … next-frontend-app
✔ Would you like to use TypeScript? … Yes
✔ Would you like to use ESLint? … Yes
✔ Would you like to use Tailwind CSS? … Yes
✔ Would you like to use `src/` directory? … Yes
✔ Would you like to use App Router? (recommended) … Yes
✔ Would you like to customize the default import alias (@/*)? … No
```

-   **Project name**: `next-frontend-app`と入力します。
-   **TypeScript, ESLint, Tailwind CSS**: これらは現代のフロントエンド開発で非常に役立つツールなので、すべて`Yes`を選択します。
-   **`src/` directory**: ソースコードを`src`ディレクトリにまとめることで、プロジェクトのルートが整理されます。`Yes`を選択します。
-   **App Router**: Next.js 13以降で推奨されている新しいルーティングシステムです。これまでのチュートリアルで学んだApp Routerを使うため、`Yes`を選択します。

コマンドが完了すると、`next-frontend-app`というディレクトリが作成されます。これが私たちのフロントエンドアプリケーションです。

### ステップ2: 開発サーバーの起動

作成されたプロジェクトディレクトリに移動し、開発サーバーを起動します。

```bash
# プロジェクトディレクトリに移動
cd next-frontend-app

# 開発サーバーを起動
npm run dev
```

コンソールに以下のようなメッセージが表示されれば成功です。

```
- ready started server on 0.0.0.0:3000, url: http://localhost:3000
```

ブラウザで `http://localhost:3000` にアクセスしてください。Next.jsのウェルカムページが表示されるはずです。

![Next.js Welcome Page](https://raw.githubusercontent.com/coachtech-material/pro-contents/main/laravel%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%8B%E3%82%A2%E3%81%AE%E3%81%9F%E3%82%81%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89%E5%AD%A6%E7%BF%92%E3%83%AD%E3%83%BC%E3%83%89%E3%83%9E%E3%83%83%E3%83%97/images/tutorial-10/nextjs-welcome.png)

これで、フロントエンドの開発環境も整いました！Laravelの開発サーバー（`http://localhost`）とNext.jsの開発サーバー（`http://localhost:3000`）が、それぞれ独立して動作している状態です。

### ステップ3: 初期ページのクリーンアップ

開発を始める前に、デフォルトで生成されたウェルカムページの内容を削除し、シンプルな状態にしておきましょう。

`src/app/page.tsx`を開き、内容を以下のように書き換えてください。

```tsx
// src/app/page.tsx

export default function Home() {
  return (
    <main className="flex min-h-screen flex-col items-center justify-center p-24">
      <h1 className="text-4xl font-bold">Hello, Frontend!</h1>
    </main>
  );
}
```

ファイルを保存すると、ブラウザが自動的にリロードされ、表示が切り替わるはずです。これはNext.jsの**Fast Refresh**という機能で、開発効率を大幅に向上させます。

## ✨ まとめ

-   `npx create-next-app@latest`コマンドで、対話的にNext.jsプロジェクトを作成できる。
-   TypeScript, ESLint, Tailwind CSS, App Routerは、モダンな開発における推奨設定である。
-   `npm run dev`で開発サーバーを起動し、`http://localhost:3000`でアクセスできる。

これで、バックエンドとフロントエンド、両方の開発環境が整いました。次のチャプターでは、いよいよこの2つを連携させて、商品一覧ページを作成していきます。
