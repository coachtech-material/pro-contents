# 9-1-3: プロジェクトのセットアップ

## 🎯 この章で学ぶこと

- Next.jsプロジェクトの作成方法を学ぶ
- プロジェクトのディレクトリ構造を理解する
- 開発サーバーの起動方法を学ぶ

## はじめに

Next.jsプロジェクトは、`create-next-app`コマンドを使って簡単に作成できます。このセクションでは、プロジェクトの作成から開発サーバーの起動までの手順を学びます。

## プロジェクトの作成

ターミナルで以下のコマンドを実行します。

```bash
npx create-next-app@latest my-next-app
```

いくつかの質問が表示されます。以下のように回答することを推奨します。

```
✔ Would you like to use TypeScript? … Yes
✔ Would you like to use ESLint? … Yes
✔ Would you like to use Tailwind CSS? … Yes
✔ Would you like your code inside a `src/` directory? … No
✔ Would you like to use App Router? (recommended) … Yes
✔ Would you like to use Turbopack for `next dev`? … Yes
✔ Would you like to customize the import alias (@/*)? … No
```

プロジェクトが作成されたら、ディレクトリに移動します。

```bash
cd my-next-app
```

## ディレクトリ構造

作成されたプロジェクトの構造は以下のようになっています。

```
my-next-app/
├── app/                    # App Router のルートディレクトリ
│   ├── favicon.ico         # ファビコン
│   ├── globals.css         # グローバルスタイル
│   ├── layout.tsx          # ルートレイアウト
│   └── page.tsx            # トップページ（/）
├── public/                 # 静的ファイル（画像など）
├── .eslintrc.json          # ESLint設定
├── .gitignore              # Git除外設定
├── next.config.ts          # Next.js設定
├── package.json            # パッケージ情報
├── postcss.config.mjs      # PostCSS設定
├── tailwind.config.ts      # Tailwind CSS設定
└── tsconfig.json           # TypeScript設定
```

### 主要なファイルの役割

| ファイル/ディレクトリ | 役割 |
|---------------------|------|
| `app/` | App Routerのルートディレクトリ。ここにページやレイアウトを配置 |
| `app/layout.tsx` | すべてのページに共通するレイアウト（HTMLの`<html>`タグを含む） |
| `app/page.tsx` | トップページ（`/`）のコンポーネント |
| `public/` | 静的ファイルを配置。`/images/logo.png`のようにアクセス可能 |
| `next.config.ts` | Next.jsの設定ファイル |

## 開発サーバーの起動

以下のコマンドで開発サーバーを起動します。

```bash
npm run dev
```

ブラウザで `http://localhost:3000` にアクセスすると、Next.jsのウェルカムページが表示されます。

## 最初のページを編集する

`app/page.tsx`を開き、内容を以下のように変更してみましょう。

```typescript
export default function Home() {
  return (
    <main className="flex min-h-screen flex-col items-center justify-center p-24">
      <h1 className="text-4xl font-bold">Hello, Next.js!</h1>
      <p className="mt-4 text-xl text-gray-600">
        Next.jsの学習を始めましょう
      </p>
    </main>
  );
}
```

ファイルを保存すると、ブラウザが自動的にリロードされ、変更が反映されます。これがNext.jsの「Fast Refresh」機能です。

## package.jsonのスクリプト

`package.json`には、以下のスクリプトが定義されています。

```json
{
  "scripts": {
    "dev": "next dev --turbopack",
    "build": "next build",
    "start": "next start",
    "lint": "next lint"
  }
}
```

| スクリプト | 説明 |
|-----------|------|
| `npm run dev` | 開発サーバーを起動（ホットリロード有効） |
| `npm run build` | 本番用にアプリケーションをビルド |
| `npm run start` | ビルドしたアプリケーションを起動 |
| `npm run lint` | ESLintでコードをチェック |

## ✨ まとめ

Next.jsプロジェクトは、`create-next-app`コマンドで簡単に作成できます。App Routerを使用する場合、`app`ディレクトリがルーティングの中心となります。開発サーバーはFast Refresh機能を備えており、コードの変更が即座にブラウザに反映されます。

次のセクションでは、Server ComponentsとClient Componentsの違いについて学んでいきましょう。
