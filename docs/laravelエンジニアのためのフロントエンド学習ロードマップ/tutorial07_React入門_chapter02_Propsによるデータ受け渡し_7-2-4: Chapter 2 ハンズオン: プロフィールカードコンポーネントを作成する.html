<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 2 ハンズオン: プロフィールカードコンポーネントを作成する | pro-contents</title>
    <meta name="description" content="プログラミング教材コンテンツ">
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <div id="outer">
        <header>
            <h1><a href="index.html">pro-contents</a></h1>
            <p class="description">プログラミング教材コンテンツ</p>
        </header>
        <div id="container">
            <aside>
                <div id="side-inner">
                    <div class="side-title">チュートリアル一覧</div>
<div class="side"><ul>
<li><a href="tutorial01_開発環境とWebの基礎固め.html">Tutorial 1: 開発環境とWebの基礎固め</a></li>
<li><a href="tutorial02_HTML_CSS基礎.html">Tutorial 2: HTML/CSS基礎</a></li>
<li><a href="tutorial03_Tailwind_CSS徹底習得.html">Tutorial 3: Tailwind CSS徹底習得</a></li>
<li><a href="tutorial04_JavaScript_基礎とDOM操作.html">Tutorial 4: JavaScript基礎とDOM操作</a></li>
<li><a href="tutorial05_JavaScript_応用と非同期処理.html">Tutorial 5: JavaScript応用と非同期処理</a></li>
<li><a href="tutorial06_TypeScript入門.html">Tutorial 6: TypeScript入門</a></li>
<li><a href="tutorial07_React入門.html" class="current">Tutorial 7: React入門</a></li>
<li><a href="tutorial08_React応用.html">Tutorial 8: React応用</a></li>
<li><a href="tutorial09_Next.js.html">Tutorial 9: Next.js</a></li>
<li><a href="tutorial10_Laravel_x_Next.js.html">Tutorial 10: Laravel × Next.js</a></li>
<li><a href="tutorial11_テスト.html">Tutorial 11: テスト</a></li>
<li><a href="tutorial12_column.html">上級コラム: Webレンダリングの深層理解</a></li>
</ul></div>

                </div>
            </aside>
            <div id="content">
                <div class="inner">
                    <div class="breadcrumb"><a href="../index.html">ホーム</a><span>></span><a href="index.html">Laravelエンジニアのためのフロントエンド学習ロードマップ</a><span>></span><a href="tutorial07_React入門.html">Tutorial 7: React入門</a><span>></span><a href="tutorial07_React入門_chapter02_Propsによるデータ受け渡し.html">Chapter 2: Propsによるデータ受け渡し</a><span>></span>Chapter 2 ハンズオン: プロフィールカードコンポーネントを作成する</div>
                    <div class="section-content">
<h1 id="tutorial-7-react">Tutorial 7: React基礎</h1>
<h2 id="chapter-2-props">Chapter 2: Propsによるデータ受け渡し</h2>
<h3 id="chapter-2-props_1">Chapter 2 ハンズオン: Propsを使ってコンポーネントを動的にする</h3>
<p>🎯 <strong>このハンズオンで達成すること</strong></p>
<ul>
<li>Chapter 1で作成した<code>UserProfile</code>コンポーネントを、Propsを受け取れるようにリファクタリングする。</li>
<li><code>children</code> Propsを活用した汎用的な<code>Card</code>コンポーネントを作成し、レイアウトの共通化を体験する。</li>
<li>Propsの型定義（<code>type</code>）、分割代入、オプショナルなProps（<code>?</code>）、デフォルト値を実践で使えるようになる。</li>
</ul>
<hr />
<p>🖼️ <strong>完成イメージ</strong></p>
<p>汎用的な<code>Card</code>コンポーネントを作成し、その中にPropsで動的に内容が変わる<code>UserProfile</code>コンポーネントを配置します。一部のユーザーには追加情報（<code>bio</code>）も表示します。</p>
<p><img alt="完成イメージ" src="https://placehold.jp/800x500.png?text=Card%20Component%0A---%0A名前:%20山田%20太郎%0A趣味:%20プログラミング%0A自己紹介:%20Reactを勉強中です！%0A---%0A%0ACard%20Component%0A---%0A名前:%20鈴木%20花子%0A趣味:%20読書%0A---" /></p>
<hr />
<h3 id="_1">🧠 先輩エンジニアの思考プロセス</h3>
<p>「Chapter 1で作った自己紹介ページを、Propsを使って動的にしてみて」と言われたら、こう考える。</p>
<ol>
<li><strong><code>UserProfile</code>のリファクタリング:</strong> 今の<code>UserProfile</code>は名前と趣味がハードコードされている。これを外から渡せるようにするのが最初の仕事だ。<ul>
<li><code>UserProfile.tsx</code>を開いて、まずはPropsの型<code>UserProfileProps</code>を定義しよう。<code>name</code>と<code>hobby</code>は必須（<code>string</code>）だな。自己紹介文<code>bio</code>は、いる人といない人がいそうだから、オプショナル（<code>bio?: string</code>）にしておこう。</li>
<li>コンポーネントの引数を<code>({ name, hobby, bio }: UserProfileProps)</code>のように分割代入で受け取る。<code>bio</code>は存在する場合のみ<code>p</code>タグを表示するように、<code>{bio &amp;&amp; &lt;p&gt;自己紹介: {bio}&lt;/p&gt;}</code>という条件付きレンダリングを使うのがスマートだ。</li>
</ul>
</li>
<li><strong><code>Card</code>コンポーネントの作成:</strong> プロフィールを囲んでいる枠線スタイルは、他の場所でも使えそうだ。これを<code>Card</code>コンポーネントとして切り出そう。<ul>
<li><code>components/Card.tsx</code>を作成する。このコンポーネントの役割は、渡された中身（<code>children</code>）を特定のスタイルを持つ<code>div</code>で囲むことだけだ。</li>
<li>Propsの型は<code>{ children: React.ReactNode }</code>。受け取った<code>children</code>を<code>div</code>の中にそのままレンダリングする。</li>
</ul>
</li>
<li><strong><code>App</code>コンポーネントの修正:</strong> 親コンポーネントで、新しい<code>UserProfile</code>と<code>Card</code>を組み立てる。<ul>
<li><code>App.tsx</code>を開く。まず、<code>Card</code>コンポーネントをインポートする。</li>
<li>既存の<code>&lt;UserProfile /&gt;</code>を<code>&lt;Card&gt;&lt;UserProfile ... /&gt;&lt;/Card&gt;</code>の形で囲む。</li>
<li><code>UserProfile</code>コンポーネントに、<code>name</code>, <code>hobby</code>, <code>bio</code>の各Propsを渡していく。一人には<code>bio</code>を渡し、もう一人には渡さない、というパターンを試して、オプショナルPropsの動作を確認しよう。</li>
</ul>
</li>
<li><strong>スタイルの移動:</strong> <code>UserProfile</code>に直接適用していたスタイル（<code>user-profile</code>クラス）は、<code>Card</code>コンポーネントの責務になった。<code>index.css</code>のクラス名を<code>.card</code>に変更し、<code>UserProfile.tsx</code>からは<code>className</code>の記述を削除する。これで責務の分離が完了だ。</li>
</ol>
<hr />
<h3 id="step-by-step">🏃 実践: Step by Stepでリファクタリングしよう</h3>
<p>（Chapter 1のハンズオンが完了している状態からスタートします）</p>
<h4 id="step-1-userprofileprops">Step 1: <code>UserProfile</code>コンポーネントをProps対応にする</h4>
<p><code>src/components/UserProfile.tsx</code>を以下のように書き換えます。</p>
<pre class="codehilite"><code class="language-tsx">// src/components/UserProfile.tsx

// 1. Propsの型を定義
type UserProfileProps = {
  name: string;
  hobby: string;
  // bioは任意（オプショナル）
  bio?: string;
};

// 2. 分割代入でPropsを受け取る
function UserProfile({ name, hobby, bio }: UserProfileProps) {
  return (
    // classNameは後で削除する
    &lt;div className=&quot;user-profile&quot;&gt;
      {/* ハードコードされていた部分をPropsに置き換え */}
      &lt;p&gt;名前: {name}&lt;/p&gt;
      &lt;p&gt;趣味: {hobby}&lt;/p&gt;

      {/* 3. bioが存在する場合のみ、自己紹介を表示（条件付きレンダリング） */}
      {bio &amp;&amp; &lt;p&gt;自己紹介: {bio}&lt;/p&gt;}

      &lt;hr /&gt;
    &lt;/div&gt;
  );
}

export default UserProfile;
</code></pre>

<ul>
<li><strong><code>{bio &amp;&amp; &lt;p&gt;...&lt;/p&gt;}</code></strong>: これはReactでよく使われる<strong>条件付きレンダリング</strong>のテクニックです。<code>bio</code>が<code>undefined</code>や空文字列でない（truthyな）場合にのみ、<code>&amp;&amp;</code>の右側のJSXがレンダリングされます。</li>
</ul>
<h4 id="step-2-card">Step 2: 汎用的な<code>Card</code>コンポーネントを作成する</h4>
<p><code>src/components</code>ディレクトリに<code>Card.tsx</code>を新規作成します。</p>
<pre class="codehilite"><code class="language-tsx">// src/components/Card.tsx

import React from &quot;react&quot;;

// childrenを受け取るための型定義
type CardProps = {
  children: React.ReactNode;
};

function Card({ children }: CardProps) {
  // user-profileからcardにクラス名を変更
  return &lt;div className=&quot;card&quot;&gt;{children}&lt;/div&gt;;
}

export default Card;
</code></pre>

<h4 id="step-3-apptsx">Step 3: <code>App.tsx</code>で新しいコンポーネントを組み立てる</h4>
<p><code>src/App.tsx</code>を編集し、<code>Card</code>コンポーネントを使って<code>UserProfile</code>をラップします。また、<code>UserProfile</code>にPropsを渡します。</p>
<pre class="codehilite"><code class="language-tsx">// src/App.tsx

import WelcomeMessage from &quot;./components/WelcomeMessage&quot;;
import UserProfile from &quot;./components/UserProfile&quot;;
// Cardコンポーネントをインポート
import Card from &quot;./components/Card&quot;;

function App() {
  return (
    &lt;&gt;
      &lt;WelcomeMessage /&gt;

      {/* CardコンポーネントでUserProfileをラップ */}
      &lt;Card&gt;
        &lt;UserProfile 
          name=&quot;山田 太郎&quot; 
          hobby=&quot;プログラミング&quot; 
          bio=&quot;Reactを勉強中です！&quot;
        /&gt;
      &lt;/Card&gt;

      &lt;Card&gt;
        &lt;UserProfile 
          name=&quot;鈴木 花子&quot; 
          hobby=&quot;読書&quot; 
        /&gt;
      &lt;/Card&gt;
    &lt;/&gt;
  );
}

export default App;
</code></pre>

<h4 id="step-4">Step 4: スタイルの整理</h4>
<p>最後に、スタイルの責務を<code>UserProfile</code>から<code>Card</code>に移します。</p>
<ol>
<li><code>src/index.css</code>のクラス名を<code>.user-profile</code>から<code>.card</code>に変更します。<br />
<code>css
    /* src/index.css */
    .card {
      border: 1px solid #ccc;
      padding: 16px;
      margin-top: 16px;
      border-radius: 8px;
    }</code></li>
<li><code>src/components/UserProfile.tsx</code>から<code>className="user-profile"</code>の記述を削除します。<br />
<code>tsx
    // src/components/UserProfile.tsx
    // ...
    // classNameを削除
    &lt;div&gt;
      {/* ... */}
    &lt;/div&gt;
    // ...</code></li>
</ol>
<p>これでリファクタリングは完了です！ブラウザで確認すると、山田さんのプロフィールには自己紹介が表示され、鈴木さんのプロフィールには表示されていないことが確認できます。</p>
<hr />
<p>✨ <strong>まとめ</strong></p>
<ul>
<li>ハードコードされた値をPropsに置き換えることで、コンポーネントは動的で再利用可能な部品になった。</li>
<li>Propsの型定義で<code>?</code>を使うことで、必須ではないオプショナルなPropsを安全に扱うことができる。</li>
<li><code>children</code> Propsを使うことで、コンポーネントのレイアウトとコンテンツを分離し、<code>Card</code>のような汎用的なラッパーコンポーネントを作成できる。</li>
<li>コンポーネントの責務を明確にし、スタイルなどの関心事を適切なコンポーネントに移動させることで、コードの見通しが良くなった。</li>
</ul>
<p>📝 <strong>学習のポイント</strong></p>
<ul>
<li>[ ] <code>UserProfile</code>コンポーネントに、<code>age?: number</code>というオプショナルなPropsを追加し、渡された場合のみ「年齢: {age}歳」と表示するように改修してみましょう。</li>
<li>[ ] <code>App.tsx</code>で、<code>Card</code>コンポーネントの中に<code>UserProfile</code>ではなく、自由なテキストや<code>h2</code>タグなどを入れてみて、<code>Card</code>が汎用的に使えることを確認してみましょう。</li>
<li>[ ] もし<code>UserProfile</code>の<code>bio</code>にデフォルト値を設定したい場合、どこをどのように変更すればよいでしょうか？（例: <code>bio = 'よろしくお願いします。'</code>）</li>
</ul>
</div>
<div class="section-nav">
<a href="tutorial07_React入門_chapter02_Propsによるデータ受け渡し_7-2-3: Propsのデフォルト値と分割代入.html" class="prev">Propsのデフォルト値と分割代入</a>
<span></span>
</div>

                </div>
            </div>
        </div>
        <footer>
            &copy; 2025 pro-contents
        </footer>
    </div>
</body>
</html>
