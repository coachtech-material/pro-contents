<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promiseã®åŸºæœ¬ | pro-contents</title>
    <meta name="description" content="Proç”Ÿç”¨ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æ•™æã‚³ãƒ³ãƒ†ãƒ³ãƒ„">
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <div id="outer">
        <header>
            <h1><a href="index.html">pro-contents</a></h1>
            <p class="description">Proç”Ÿç”¨ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æ•™æã‚³ãƒ³ãƒ†ãƒ³ãƒ„</p>
        </header>
        <div id="container">
            <aside>
                <div id="side-inner">
                    <div class="side-title">ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ä¸€è¦§</div>
<div class="side"><ul>
<li><a href="tutorial01_é–‹ç™ºç’°å¢ƒã¨Webã®åŸºç¤å›ºã‚.html">Tutorial 1: é–‹ç™ºç’°å¢ƒã¨Webã®åŸºç¤å›ºã‚</a></li>
<li><a href="tutorial02_HTML_CSSåŸºç¤.html">Tutorial 2: HTML/CSSåŸºç¤</a></li>
<li><a href="tutorial03_Tailwind_CSSå¾¹åº•ç¿’å¾—.html">Tutorial 3: Tailwind CSSå¾¹åº•ç¿’å¾—</a></li>
<li><a href="tutorial04_JavaScript_åŸºç¤ã¨DOMæ“ä½œ.html">Tutorial 4: JavaScriptåŸºç¤ã¨DOMæ“ä½œ</a></li>
<li><a href="tutorial05_JavaScript_å¿œç”¨ã¨éåŒæœŸå‡¦ç†.html" class="current">Tutorial 5: JavaScriptå¿œç”¨ã¨éåŒæœŸå‡¦ç†</a></li>
<li><a href="tutorial06_TypeScriptå…¥é–€.html">Tutorial 6: TypeScriptå…¥é–€</a></li>
<li><a href="tutorial07_Reactå…¥é–€.html">Tutorial 7: Reactå…¥é–€</a></li>
<li><a href="tutorial08_Reactå¿œç”¨.html">Tutorial 8: Reactå¿œç”¨</a></li>
<li><a href="tutorial09_Next.js.html">Tutorial 9: Next.js</a></li>
<li><a href="tutorial10_Laravel_x_Next.js.html">Tutorial 10: Laravel Ã— Next.js</a></li>
<li><a href="tutorial11_ãƒ†ã‚¹ãƒˆ.html">Tutorial 11: ãƒ†ã‚¹ãƒˆ</a></li>
<li><a href="tutorial12_column.html">ä¸Šç´šã‚³ãƒ©ãƒ : Webãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®æ·±å±¤ç†è§£</a></li>
</ul></div>

                </div>
            </aside>
            <div id="content">
                <div class="inner">
                    <div class="breadcrumb"><a href="../index.html">ãƒ›ãƒ¼ãƒ </a><span>></span><a href="index.html">Laravelã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®ãŸã‚ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å­¦ç¿’ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—</a><span>></span><a href="tutorial05_JavaScript_å¿œç”¨ã¨éåŒæœŸå‡¦ç†.html">Tutorial 5: JavaScriptå¿œç”¨ã¨éåŒæœŸå‡¦ç†</a><span>></span><a href="tutorial05_JavaScript_å¿œç”¨ã¨éåŒæœŸå‡¦ç†_chapter01_éåŒæœŸå‡¦ç†ã®åŸºç¤.html">Chapter 1: éåŒæœŸå‡¦ç†ã®åŸºç¤</a><span>></span>Promiseã®åŸºæœ¬</div>
                    <div class="section-content">
<h1 id="5-1-3-promise">5-1-3: Promiseã®åŸºæœ¬</h1>
<h2 id="_1">ğŸ¯ ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§å­¦ã¶ã“ã¨</h2>
<ul>
<li>Promiseã®åŸºæœ¬æ¦‚å¿µã‚’ç†è§£ã™ã‚‹</li>
<li><code>then</code>, <code>catch</code>, <code>finally</code> ã®ä½¿ã„æ–¹ã‚’å­¦ã¶</li>
<li>Promiseãƒã‚§ãƒ¼ãƒ³ã§è¤‡æ•°ã®éåŒæœŸå‡¦ç†ã‚’é€£çµã™ã‚‹æ–¹æ³•ã‚’å­¦ã¶</li>
</ul>
<h2 id="_2">ã¯ã˜ã‚ã«</h2>
<p>å‰ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã€ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã‚’ä½¿ã£ãŸéåŒæœŸå‡¦ç†ã¯ã€Œã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯åœ°ç„ã€ã«ãªã‚Šã‚„ã™ã„ã¨ã„ã†å•é¡Œã‚’è¦‹ã¾ã—ãŸã€‚Promiseã¯ã€ã“ã®å•é¡Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«ES6ã§å°å…¥ã•ã‚ŒãŸæ©Ÿèƒ½ã§ã™ã€‚Promiseã‚’ä½¿ã†ã¨ã€éåŒæœŸå‡¦ç†ã‚’ã‚ˆã‚Šèª­ã¿ã‚„ã™ãã€ç®¡ç†ã—ã‚„ã™ãæ›¸ã‘ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>
<h2 id="1-promise">1. Promiseã¨ã¯</h2>
<p>Promiseã¯ã€ã€Œå°†æ¥ã®ã‚ã‚‹æ™‚ç‚¹ã§çµæœãŒå¾—ã‚‰ã‚Œã‚‹å‡¦ç†ã€ã‚’è¡¨ã™ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚Promiseã«ã¯3ã¤ã®çŠ¶æ…‹ãŒã‚ã‚Šã¾ã™ã€‚</p>
<table>
<thead>
<tr>
<th>çŠ¶æ…‹</th>
<th>èª¬æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>pendingï¼ˆä¿ç•™ä¸­ï¼‰</td>
<td>å‡¦ç†ãŒã¾ã å®Œäº†ã—ã¦ã„ãªã„</td>
</tr>
<tr>
<td>fulfilledï¼ˆæˆåŠŸï¼‰</td>
<td>å‡¦ç†ãŒæˆåŠŸã—ã¦çµæœãŒå¾—ã‚‰ã‚ŒãŸ</td>
</tr>
<tr>
<td>rejectedï¼ˆå¤±æ•—ï¼‰</td>
<td>å‡¦ç†ãŒå¤±æ•—ã—ã¦ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸ</td>
</tr>
</tbody>
</table>
<h2 id="2-promise">2. Promiseã®åŸºæœ¬çš„ãªä½¿ã„æ–¹</h2>
<h3 id="promise">Promiseã®ä½œæˆ</h3>
<pre class="codehilite"><code class="language-javascript">const promise = new Promise((resolve, reject) =&gt; {
  // éåŒæœŸå‡¦ç†
  setTimeout(() =&gt; {
    const success = true;

    if (success) {
      resolve(&quot;æˆåŠŸã—ã¾ã—ãŸï¼&quot;); // æˆåŠŸæ™‚
    } else {
      reject(&quot;ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ&quot;); // å¤±æ•—æ™‚
    }
  }, 1000);
});
</code></pre>

<h3 id="then-catch-finally">then, catch, finally</h3>
<pre class="codehilite"><code class="language-javascript">promise
  .then((result) =&gt; {
    // æˆåŠŸæ™‚ã®å‡¦ç†
    console.log(result); // &quot;æˆåŠŸã—ã¾ã—ãŸï¼&quot;
  })
  .catch((error) =&gt; {
    // å¤±æ•—æ™‚ã®å‡¦ç†
    console.error(error);
  })
  .finally(() =&gt; {
    // æˆåŠŸãƒ»å¤±æ•—ã«é–¢ã‚ã‚‰ãšå®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†
    console.log(&quot;å‡¦ç†å®Œäº†&quot;);
  });
</code></pre>

<h2 id="3">3. å®Ÿè·µçš„ãªä¾‹: ãƒ‡ãƒ¼ã‚¿å–å¾—</h2>
<pre class="codehilite"><code class="language-javascript">// ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹é–¢æ•°ï¼ˆPromiseã‚’è¿”ã™ï¼‰
function fetchUser(userId) {
  return new Promise((resolve, reject) =&gt; {
    console.log(`ãƒ¦ãƒ¼ã‚¶ãƒ¼ ${userId} ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­...`);

    setTimeout(() =&gt; {
      // æˆåŠŸã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
      if (userId &gt; 0) {
        resolve({
          id: userId,
          name: &quot;å±±ç”°å¤ªéƒ&quot;,
          email: &quot;yamada@example.com&quot;
        });
      } else {
        reject(&quot;ç„¡åŠ¹ãªãƒ¦ãƒ¼ã‚¶ãƒ¼IDã§ã™&quot;);
      }
    }, 1500);
  });
}

// ä½¿ç”¨ä¾‹
fetchUser(1)
  .then((user) =&gt; {
    console.log(&quot;ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±:&quot;, user);
  })
  .catch((error) =&gt; {
    console.error(&quot;ã‚¨ãƒ©ãƒ¼:&quot;, error);
  });

// å‡ºåŠ›:
// ãƒ¦ãƒ¼ã‚¶ãƒ¼ 1 ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­...
// ï¼ˆ1.5ç§’å¾Œï¼‰
// ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±: { id: 1, name: &quot;å±±ç”°å¤ªéƒ&quot;, email: &quot;yamada@example.com&quot; }
</code></pre>

<h2 id="4-promise">4. Promiseãƒã‚§ãƒ¼ãƒ³</h2>
<p><code>then</code>ã®ä¸­ã§æ–°ã—ã„Promiseã‚’è¿”ã™ã¨ã€å‡¦ç†ã‚’é€£çµã§ãã¾ã™ã€‚ã“ã‚Œã‚’ã€ŒPromiseãƒã‚§ãƒ¼ãƒ³ã€ã¨å‘¼ã³ã¾ã™ã€‚</p>
<pre class="codehilite"><code class="language-javascript">// è¤‡æ•°ã®é–¢æ•°ã‚’å®šç¾©
function fetchUser(userId) {
  return new Promise((resolve) =&gt; {
    setTimeout(() =&gt; {
      resolve({ id: userId, name: &quot;å±±ç”°å¤ªéƒ&quot; });
    }, 1000);
  });
}

function fetchPosts(userId) {
  return new Promise((resolve) =&gt; {
    setTimeout(() =&gt; {
      resolve([
        { id: 1, title: &quot;æœ€åˆã®æŠ•ç¨¿&quot; },
        { id: 2, title: &quot;2ç•ªç›®ã®æŠ•ç¨¿&quot; }
      ]);
    }, 1000);
  });
}

function fetchComments(postId) {
  return new Promise((resolve) =&gt; {
    setTimeout(() =&gt; {
      resolve([
        { id: 1, text: &quot;ç´ æ™´ã‚‰ã—ã„ï¼&quot; },
        { id: 2, text: &quot;å‚è€ƒã«ãªã‚Šã¾ã—ãŸ&quot; }
      ]);
    }, 1000);
  });
}

// Promiseãƒã‚§ãƒ¼ãƒ³ã§é€£çµ
fetchUser(1)
  .then((user) =&gt; {
    console.log(&quot;ãƒ¦ãƒ¼ã‚¶ãƒ¼:&quot;, user.name);
    return fetchPosts(user.id);
  })
  .then((posts) =&gt; {
    console.log(&quot;æŠ•ç¨¿æ•°:&quot;, posts.length);
    return fetchComments(posts[0].id);
  })
  .then((comments) =&gt; {
    console.log(&quot;ã‚³ãƒ¡ãƒ³ãƒˆæ•°:&quot;, comments.length);
  })
  .catch((error) =&gt; {
    console.error(&quot;ã‚¨ãƒ©ãƒ¼:&quot;, error);
  });

// å‡ºåŠ›ï¼ˆå„1ç§’é–“éš”ï¼‰:
// ãƒ¦ãƒ¼ã‚¶ãƒ¼: å±±ç”°å¤ªéƒ
// æŠ•ç¨¿æ•°: 2
// ã‚³ãƒ¡ãƒ³ãƒˆæ•°: 2
</code></pre>

<p>ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯åœ°ç„ã¨æ¯”è¼ƒã™ã‚‹ã¨ã€Promiseãƒã‚§ãƒ¼ãƒ³ã¯ãƒ•ãƒ©ãƒƒãƒˆã§èª­ã¿ã‚„ã™ã„ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚</p>
<h2 id="5-promiseall-promiserace">5. Promise.all ã¨ Promise.race</h2>
<h3 id="promiseall">Promise.all</h3>
<p>è¤‡æ•°ã®Promiseã‚’ä¸¦åˆ—ã§å®Ÿè¡Œã—ã€ã™ã¹ã¦ãŒå®Œäº†ã™ã‚‹ã®ã‚’å¾…ã¡ã¾ã™ã€‚</p>
<pre class="codehilite"><code class="language-javascript">const promise1 = fetchUser(1);
const promise2 = fetchUser(2);
const promise3 = fetchUser(3);

Promise.all([promise1, promise2, promise3])
  .then((results) =&gt; {
    console.log(&quot;å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼:&quot;, results);
    // [{ id: 1, ... }, { id: 2, ... }, { id: 3, ... }]
  })
  .catch((error) =&gt; {
    // ã„ãšã‚Œã‹ãŒå¤±æ•—ã—ãŸå ´åˆ
    console.error(&quot;ã‚¨ãƒ©ãƒ¼:&quot;, error);
  });
</code></pre>

<h3 id="promiserace">Promise.race</h3>
<p>è¤‡æ•°ã®Promiseã®ã†ã¡ã€æœ€åˆã«å®Œäº†ã—ãŸã‚‚ã®ã®çµæœã‚’å–å¾—ã—ã¾ã™ã€‚</p>
<pre class="codehilite"><code class="language-javascript">const slow = new Promise((resolve) =&gt; {
  setTimeout(() =&gt; resolve(&quot;é…ã„å‡¦ç†&quot;), 3000);
});

const fast = new Promise((resolve) =&gt; {
  setTimeout(() =&gt; resolve(&quot;é€Ÿã„å‡¦ç†&quot;), 1000);
});

Promise.race([slow, fast])
  .then((result) =&gt; {
    console.log(&quot;å‹è€…:&quot;, result); // &quot;é€Ÿã„å‡¦ç†&quot;
  });
</code></pre>

<h2 id="6-promise">6. ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¨Promiseã®æ¯”è¼ƒ</h2>
<pre class="codehilite"><code class="language-javascript">// ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ç‰ˆï¼ˆèª­ã¿ã«ãã„ï¼‰
fetchUser(1, (user) =&gt; {
  fetchPosts(user.id, (posts) =&gt; {
    fetchComments(posts[0].id, (comments) =&gt; {
      console.log(comments);
    });
  });
});

// Promiseç‰ˆï¼ˆèª­ã¿ã‚„ã™ã„ï¼‰
fetchUser(1)
  .then((user) =&gt; fetchPosts(user.id))
  .then((posts) =&gt; fetchComments(posts[0].id))
  .then((comments) =&gt; console.log(comments))
  .catch((error) =&gt; console.error(error));
</code></pre>

<h2 id="_3">âœ¨ ã¾ã¨ã‚</h2>
<p>Promiseã¯ã€éåŒæœŸå‡¦ç†ã‚’æ‰±ã†ãŸã‚ã®å¼·åŠ›ãªæ©Ÿèƒ½ã§ã™ã€‚<code>then</code>ã§æˆåŠŸæ™‚ã®å‡¦ç†ã€<code>catch</code>ã§ã‚¨ãƒ©ãƒ¼å‡¦ç†ã€<code>finally</code>ã§å¾Œå‡¦ç†ã‚’è¨˜è¿°ã§ãã¾ã™ã€‚Promiseãƒã‚§ãƒ¼ãƒ³ã‚’ä½¿ã†ã¨ã€è¤‡æ•°ã®éåŒæœŸå‡¦ç†ã‚’èª­ã¿ã‚„ã™ãé€£çµã§ãã¾ã™ã€‚</p>
<p>æ¬¡ã®ãƒãƒ£ãƒ—ã‚¿ãƒ¼ã§ã¯ã€Promiseã‚’ã•ã‚‰ã«ç›´æ„Ÿçš„ã«æ›¸ã‘ã‚‹ã€Œasync/awaitã€ã«ã¤ã„ã¦å­¦ã‚“ã§ã„ãã¾ã—ã‚‡ã†ã€‚</p>
</div>
<div class="section-nav">
<a href="tutorial05_JavaScript_å¿œç”¨ã¨éåŒæœŸå‡¦ç†_chapter01_éåŒæœŸå‡¦ç†ã®åŸºç¤_5-1-2: åŒæœŸå‡¦ç†ã¨éåŒæœŸå‡¦ç†ã®é•ã„.html" class="prev">åŒæœŸå‡¦ç†ã¨éåŒæœŸå‡¦ç†ã®é•ã„</a>
<a href="tutorial05_JavaScript_å¿œç”¨ã¨éåŒæœŸå‡¦ç†_chapter01_éåŒæœŸå‡¦ç†ã®åŸºç¤_5-1-4: Chapter 1 ãƒãƒ³ã‚ºã‚ªãƒ³: setTimeoutã‚’ä½¿ã£ãŸéåŒæœŸå‡¦ç†.html" class="next">Chapter 1 ãƒãƒ³ã‚ºã‚ªãƒ³: setTimeoutã‚’ä½¿ã£ãŸéåŒæœŸå‡¦ç†</a>
</div>

                </div>
            </div>
        </div>
        <footer>
            &copy; 2025 pro-contents
        </footer>
    </div>
</body>
</html>
