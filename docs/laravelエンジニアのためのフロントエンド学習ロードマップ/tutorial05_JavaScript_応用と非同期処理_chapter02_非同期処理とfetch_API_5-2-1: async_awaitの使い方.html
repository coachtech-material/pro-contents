<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>async_awaitã®ä½¿ã„æ–¹ | pro-contents</title>
    <meta name="description" content="Proç”Ÿç”¨ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æ•™æã‚³ãƒ³ãƒ†ãƒ³ãƒ„">
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <div id="outer">
        <header>
            <h1><a href="index.html">pro-contents</a></h1>
            <p class="description">Proç”Ÿç”¨ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æ•™æã‚³ãƒ³ãƒ†ãƒ³ãƒ„</p>
        </header>
        <div id="container">
            <aside>
                <div id="side-inner">
                    <div class="side-title">ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ä¸€è¦§</div>
<div class="side"><ul>
<li><a href="tutorial01_é–‹ç™ºç’°å¢ƒã¨Webã®åŸºç¤å›ºã‚.html">Tutorial 1: é–‹ç™ºç’°å¢ƒã¨Webã®åŸºç¤å›ºã‚</a></li>
<li><a href="tutorial02_HTML_CSSåŸºç¤.html">Tutorial 2: HTML/CSSåŸºç¤</a></li>
<li><a href="tutorial03_Tailwind_CSSå¾¹åº•ç¿’å¾—.html">Tutorial 3: Tailwind CSSå¾¹åº•ç¿’å¾—</a></li>
<li><a href="tutorial04_JavaScript_åŸºç¤ã¨DOMæ“ä½œ.html">Tutorial 4: JavaScriptåŸºç¤ã¨DOMæ“ä½œ</a></li>
<li><a href="tutorial05_JavaScript_å¿œç”¨ã¨éåŒæœŸå‡¦ç†.html" class="current">Tutorial 5: JavaScriptå¿œç”¨ã¨éåŒæœŸå‡¦ç†</a></li>
<li><a href="tutorial06_TypeScriptå…¥é–€.html">Tutorial 6: TypeScriptå…¥é–€</a></li>
<li><a href="tutorial07_Reactå…¥é–€.html">Tutorial 7: Reactå…¥é–€</a></li>
<li><a href="tutorial08_Reactå¿œç”¨.html">Tutorial 8: Reactå¿œç”¨</a></li>
<li><a href="tutorial09_Next.js.html">Tutorial 9: Next.js</a></li>
<li><a href="tutorial10_Laravel_x_Next.js.html">Tutorial 10: Laravel Ã— Next.js</a></li>
<li><a href="tutorial11_ãƒ†ã‚¹ãƒˆ.html">Tutorial 11: ãƒ†ã‚¹ãƒˆ</a></li>
<li><a href="tutorial12_column.html">ä¸Šç´šã‚³ãƒ©ãƒ : Webãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®æ·±å±¤ç†è§£</a></li>
</ul></div>

                </div>
            </aside>
            <div id="content">
                <div class="inner">
                    <div class="breadcrumb"><a href="../index.html">ãƒ›ãƒ¼ãƒ </a><span>></span><a href="index.html">Laravelã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®ãŸã‚ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å­¦ç¿’ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—</a><span>></span><a href="tutorial05_JavaScript_å¿œç”¨ã¨éåŒæœŸå‡¦ç†.html">Tutorial 5: JavaScriptå¿œç”¨ã¨éåŒæœŸå‡¦ç†</a><span>></span><a href="tutorial05_JavaScript_å¿œç”¨ã¨éåŒæœŸå‡¦ç†_chapter02_éåŒæœŸå‡¦ç†ã¨fetch_API.html">Chapter 2: éåŒæœŸå‡¦ç†ã¨fetch API</a><span>></span>async_awaitã®ä½¿ã„æ–¹</div>
                    <div class="section-content">
<h1 id="5-2-1-asyncawait">5-2-1: async/awaitã®ä½¿ã„æ–¹</h1>
<h2 id="_1">ğŸ¯ ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§å­¦ã¶ã“ã¨</h2>
<ul>
<li><code>async/await</code> ã‚’ä½¿ã£ã¦ã€Promiseãƒ™ãƒ¼ã‚¹ã®éåŒæœŸå‡¦ç†ã‚’åŒæœŸå‡¦ç†ã®ã‚ˆã†ã«ç›´æ„Ÿçš„ã«æ›¸ã‘ã‚‹ã‚ˆã†ã«ãªã‚‹</li>
<li><code>async</code> é–¢æ•°ãŒå¸¸ã«Promiseã‚’è¿”ã™ã“ã¨ã‚’ç†è§£ã™ã‚‹</li>
</ul>
<h2 id="_2">å°å…¥</h2>
<p>Chapter 1ã§ã¯ <code>Promise</code> ã¨ <code>.then()</code> ã‚’ä½¿ã£ãŸéåŒæœŸå‡¦ç†ã‚’å­¦ã³ã¾ã—ãŸãŒã€å‡¦ç†ãŒè¤‡é›‘ã«ãªã‚‹ã¨ãƒã‚§ãƒ¼ãƒ³ãŒé•·ããªã‚Šã€èª­ã¿ã«ãããªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚</p>
<p><code>async/await</code> ã¯ã€ã“ã®å•é¡Œã‚’è§£æ±ºã—ã€éåŒæœŸå‡¦ç†ã‚’ã¾ã‚‹ã§åŒæœŸå‡¦ç†ã®ã‚ˆã†ã«ã‚·ãƒ³ãƒ—ãƒ«ã«è¨˜è¿°ã™ã‚‹ãŸã‚ã®æ§‹æ–‡ã§ã™ã€‚ES2017ã§å°å…¥ã•ã‚Œã¾ã—ãŸã€‚</p>
<h2 id="1-async">1. asyncé–¢æ•°ã®åŸºæœ¬</h2>
<p>é–¢æ•°ã‚’ <code>async</code> ã¨ã—ã¦å®£è¨€ã™ã‚‹ã¨ã€ãã®é–¢æ•°ã¯å¸¸ã« <strong>Promise</strong> ã‚’è¿”ã™ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>
<pre class="codehilite"><code class="language-javascript">// asyncé–¢æ•°ã¯å¸¸ã«Promiseã‚’è¿”ã™
async function greet() {
  return &quot;ã“ã‚“ã«ã¡ã¯&quot;;
}

// ä»¥ä¸‹ã¨åŒã˜æ„å‘³
function greet() {
  return Promise.resolve(&quot;ã“ã‚“ã«ã¡ã¯&quot;);
}

// ä½¿ã„æ–¹
greet().then((message) =&gt; {
  console.log(message); // &quot;ã“ã‚“ã«ã¡ã¯&quot;
});
</code></pre>

<h2 id="2-await">2. awaitæ¼”ç®—å­</h2>
<p><code>await</code> ã¯ <code>async</code> é–¢æ•°ã®ä¸­ã§ã®ã¿ä½¿ç”¨ã§ãã€PromiseãŒè§£æ±ºã•ã‚Œã‚‹ã¾ã§é–¢æ•°ã®å®Ÿè¡Œã‚’ä¸€æ™‚åœæ­¢ã—ã¾ã™ã€‚PromiseãŒè§£æ±ºã•ã‚Œã‚‹ã¨ã€ãã®çµæœã‚’è¿”ã—ã¾ã™ã€‚</p>
<p>ã“ã‚Œã«ã‚ˆã‚Šã€<code>.then()</code> ã‚’ä½¿ã‚ãšã«ã€Promiseã®çµæœã‚’ç›´æ¥å¤‰æ•°ã«ä»£å…¥ã§ãã¾ã™ã€‚</p>
<pre class="codehilite"><code class="language-javascript">// Promiseã‚’è¿”ã™é–¢æ•°
function fetchData() {
  return new Promise((resolve) =&gt; {
    setTimeout(() =&gt; {
      resolve({ name: &quot;å¤ªéƒ&quot;, age: 25 });
    }, 1000);
  });
}

// then ã‚’ä½¿ã£ãŸæ›¸ãæ–¹
fetchData().then((data) =&gt; {
  console.log(data);
});

// async/await ã‚’ä½¿ã£ãŸæ›¸ãæ–¹
async function getData() {
  const data = await fetchData(); // PromiseãŒè§£æ±ºã•ã‚Œã‚‹ã¾ã§å¾…ã¤
  console.log(data);
}

getData();
</code></pre>

<h2 id="3-promise">3. Promiseãƒã‚§ãƒ¼ãƒ³ã¨ã®æ¯”è¼ƒ</h2>
<p>Chapter 1ã§å­¦ã‚“ã Promiseãƒã‚§ãƒ¼ãƒ³ã‚’ã€async/awaitã§æ›¸ãç›´ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
<pre class="codehilite"><code class="language-javascript">// Promiseãƒã‚§ãƒ¼ãƒ³ç‰ˆ
getUser(1)
  .then((user) =&gt; {
    console.log(&quot;ãƒ¦ãƒ¼ã‚¶ãƒ¼:&quot;, user.name);
    return getPosts(user.id);
  })
  .then((posts) =&gt; {
    console.log(&quot;æŠ•ç¨¿æ•°:&quot;, posts.length);
    return getComments(posts[0].id);
  })
  .then((comments) =&gt; {
    console.log(&quot;ã‚³ãƒ¡ãƒ³ãƒˆæ•°:&quot;, comments.length);
  })
  .catch((error) =&gt; {
    console.error(&quot;ã‚¨ãƒ©ãƒ¼:&quot;, error);
  });

// async/awaitç‰ˆï¼ˆã‚ˆã‚Šç›´æ„Ÿçš„ï¼ï¼‰
async function fetchAllData() {
  try {
    const user = await getUser(1);
    console.log(&quot;ãƒ¦ãƒ¼ã‚¶ãƒ¼:&quot;, user.name);

    const posts = await getPosts(user.id);
    console.log(&quot;æŠ•ç¨¿æ•°:&quot;, posts.length);

    const comments = await getComments(posts[0].id);
    console.log(&quot;ã‚³ãƒ¡ãƒ³ãƒˆæ•°:&quot;, comments.length);
  } catch (error) {
    console.error(&quot;ã‚¨ãƒ©ãƒ¼:&quot;, error);
  }
}

fetchAllData();
</code></pre>

<p>async/awaitç‰ˆã¯ã€åŒæœŸå‡¦ç†ã®ã‚ˆã†ã«ä¸Šã‹ã‚‰ä¸‹ã¸é †ç•ªã«èª­ã‚ã‚‹ãŸã‚ã€éå¸¸ã«ç›´æ„Ÿçš„ã§ã™ã€‚</p>
<h2 id="4">4. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°</h2>
<p>async/awaitã§ã¯ã€<code>try/catch</code>ã‚’ä½¿ã£ã¦ã‚¨ãƒ©ãƒ¼ã‚’å‡¦ç†ã—ã¾ã™ã€‚</p>
<pre class="codehilite"><code class="language-javascript">async function fetchUser(id) {
  try {
    const response = await fetch(`https://api.example.com/users/${id}`);

    if (!response.ok) {
      throw new Error(&quot;ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“&quot;);
    }

    const user = await response.json();
    return user;
  } catch (error) {
    console.error(&quot;ã‚¨ãƒ©ãƒ¼:&quot;, error.message);
    return null;
  }
}
</code></pre>

<h2 id="5">5. ä¸¦åˆ—å®Ÿè¡Œ</h2>
<p>è¤‡æ•°ã®éåŒæœŸå‡¦ç†ã‚’ä¸¦åˆ—ã§å®Ÿè¡Œã—ãŸã„å ´åˆã¯ã€<code>Promise.all</code>ã¨çµ„ã¿åˆã‚ã›ã¾ã™ã€‚</p>
<pre class="codehilite"><code class="language-javascript">// é †æ¬¡å®Ÿè¡Œï¼ˆé…ã„ï¼‰
async function sequential() {
  const user1 = await getUser(1); // 1ç§’å¾…ã¤
  const user2 = await getUser(2); // ã•ã‚‰ã«1ç§’å¾…ã¤
  const user3 = await getUser(3); // ã•ã‚‰ã«1ç§’å¾…ã¤
  // åˆè¨ˆ3ç§’
}

// ä¸¦åˆ—å®Ÿè¡Œï¼ˆé€Ÿã„ï¼‰
async function parallel() {
  const [user1, user2, user3] = await Promise.all([
    getUser(1),
    getUser(2),
    getUser(3)
  ]);
  // åˆè¨ˆ1ç§’ï¼ˆæœ€ã‚‚é…ã„å‡¦ç†ã®æ™‚é–“ï¼‰
}
</code></pre>

<h2 id="tip">ğŸ’¡ TIP</h2>
<ul>
<li><code>await</code> ã¯ <code>async</code> é–¢æ•°ã®ä¸­ã€ã‚‚ã—ãã¯ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã§ã—ã‹ä½¿ãˆã¾ã›ã‚“ã€‚é€šå¸¸ã®é–¢æ•°å†…ã§ä½¿ã†ã¨æ§‹æ–‡ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚</li>
<li><code>await</code>ã‚’ä½¿ã†ã¨å‡¦ç†ãŒã€Œå¾…æ©Ÿã€ã™ã‚‹ãŸã‚ã€ä¸¦åˆ—å®Ÿè¡Œã—ãŸã„å ´åˆã¯<code>Promise.all</code>ã‚’ä½¿ã„ã¾ã—ã‚‡ã†ã€‚</li>
</ul>
<h2 id="_3">âœ¨ ã¾ã¨ã‚</h2>
<table>
<thead>
<tr>
<th>é …ç›®</th>
<th>èª¬æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>async</code></td>
<td>é–¢æ•°ãŒPromiseã‚’è¿”ã™ã“ã¨ã‚’ç¤ºã™</td>
</tr>
<tr>
<td><code>await</code></td>
<td><code>async</code>é–¢æ•°å†…ã§Promiseã®çµæœã‚’å¾…ã¤</td>
</tr>
<tr>
<td>ã‚¨ãƒ©ãƒ¼å‡¦ç†</td>
<td><code>try/catch</code>ã‚’ä½¿ç”¨</td>
</tr>
<tr>
<td>ä¸¦åˆ—å®Ÿè¡Œ</td>
<td><code>Promise.all</code>ã¨çµ„ã¿åˆã‚ã›ã‚‹</td>
</tr>
</tbody>
</table>
<p><code>async/await</code>ã‚’ä½¿ã†ã“ã¨ã§ã€éåŒæœŸå‡¦ç†ãŒåŒæœŸå‡¦ç†ã®ã‚ˆã†ã«ã‚·ãƒ³ãƒ—ãƒ«ã«æ›¸ã‘ã¾ã™ã€‚æ¬¡ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€å®Ÿéš›ã®APIé€šä¿¡ã«ä½¿ã†<code>fetch API</code>ã«ã¤ã„ã¦å­¦ã‚“ã§ã„ãã¾ã—ã‚‡ã†ã€‚</p>
</div>
<div class="section-nav">
<span></span>
<a href="tutorial05_JavaScript_å¿œç”¨ã¨éåŒæœŸå‡¦ç†_chapter02_éåŒæœŸå‡¦ç†ã¨fetch_API_5-2-2: fetch_APIã®åŸºæœ¬.html" class="next">fetch_APIã®åŸºæœ¬</a>
</div>

                </div>
            </div>
        </div>
        <footer>
            &copy; 2025 pro-contents
        </footer>
    </div>
</body>
</html>
