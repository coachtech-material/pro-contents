<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 1 ãƒãƒ³ã‚ºã‚ªãƒ³: setTimeoutã‚’ä½¿ã£ãŸéåŒæœŸå‡¦ç† | pro-contents</title>
    <meta name="description" content="Proç”Ÿç”¨ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æ•™æã‚³ãƒ³ãƒ†ãƒ³ãƒ„">
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <div id="outer">
        <header>
            <h1><a href="index.html">pro-contents</a></h1>
            <p class="description">Proç”Ÿç”¨ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æ•™æã‚³ãƒ³ãƒ†ãƒ³ãƒ„</p>
        </header>
        <div id="container">
            <aside>
                <div id="side-inner">
                    <div class="side-title">ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ä¸€è¦§</div>
<div class="side"><ul>
<li><a href="tutorial01_é–‹ç™ºç’°å¢ƒã¨Webã®åŸºç¤å›ºã‚.html">Tutorial 1: é–‹ç™ºç’°å¢ƒã¨Webã®åŸºç¤å›ºã‚</a></li>
<li><a href="tutorial02_HTML_CSSåŸºç¤.html">Tutorial 2: HTML/CSSåŸºç¤</a></li>
<li><a href="tutorial03_Tailwind_CSSå¾¹åº•ç¿’å¾—.html">Tutorial 3: Tailwind CSSå¾¹åº•ç¿’å¾—</a></li>
<li><a href="tutorial04_JavaScript_åŸºç¤ã¨DOMæ“ä½œ.html">Tutorial 4: JavaScriptåŸºç¤ã¨DOMæ“ä½œ</a></li>
<li><a href="tutorial05_JavaScript_å¿œç”¨ã¨éåŒæœŸå‡¦ç†.html" class="current">Tutorial 5: JavaScriptå¿œç”¨ã¨éåŒæœŸå‡¦ç†</a></li>
<li><a href="tutorial06_TypeScriptå…¥é–€.html">Tutorial 6: TypeScriptå…¥é–€</a></li>
<li><a href="tutorial07_Reactå…¥é–€.html">Tutorial 7: Reactå…¥é–€</a></li>
<li><a href="tutorial08_Reactå¿œç”¨.html">Tutorial 8: Reactå¿œç”¨</a></li>
<li><a href="tutorial09_Next.js.html">Tutorial 9: Next.js</a></li>
<li><a href="tutorial10_Laravel_x_Next.js.html">Tutorial 10: Laravel Ã— Next.js</a></li>
<li><a href="tutorial11_ãƒ†ã‚¹ãƒˆ.html">Tutorial 11: ãƒ†ã‚¹ãƒˆ</a></li>
<li><a href="tutorial12_column.html">ä¸Šç´šã‚³ãƒ©ãƒ : Webãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®æ·±å±¤ç†è§£</a></li>
</ul></div>

                </div>
            </aside>
            <div id="content">
                <div class="inner">
                    <div class="breadcrumb"><a href="../index.html">ãƒ›ãƒ¼ãƒ </a><span>></span><a href="index.html">Laravelã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®ãŸã‚ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å­¦ç¿’ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—</a><span>></span><a href="tutorial05_JavaScript_å¿œç”¨ã¨éåŒæœŸå‡¦ç†.html">Tutorial 5: JavaScriptå¿œç”¨ã¨éåŒæœŸå‡¦ç†</a><span>></span><a href="tutorial05_JavaScript_å¿œç”¨ã¨éåŒæœŸå‡¦ç†_chapter01_éåŒæœŸå‡¦ç†ã®åŸºç¤.html">Chapter 1: éåŒæœŸå‡¦ç†ã®åŸºç¤</a><span>></span>Chapter 1 ãƒãƒ³ã‚ºã‚ªãƒ³: setTimeoutã‚’ä½¿ã£ãŸéåŒæœŸå‡¦ç†</div>
                    <div class="section-content">
<h1 id="5-1-4-chapter-1-settimeout">5-1-4: Chapter 1 ãƒãƒ³ã‚ºã‚ªãƒ³: setTimeoutã‚’ä½¿ã£ãŸéåŒæœŸå‡¦ç†</h1>
<h2 id="_1">ğŸ¯ ã“ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã®ç›®çš„</h2>
<p>ã“ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã§ã¯ã€Chapter 1ã§å­¦ã‚“ã éåŒæœŸå‡¦ç†ã®åŸºç¤ã‚’å®Ÿè·µã—ã¾ã™ã€‚<code>setTimeout</code>ã¨Promiseã‚’ä½¿ã£ã¦ã€éåŒæœŸå‡¦ç†ã®å‹•ä½œã‚’ä½“é¨“ã—ã¾ã—ã‚‡ã†ã€‚</p>
<h2 id="_2">æº–å‚™</h2>
<p>ä½œæ¥­ç”¨ã®HTMLãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚</p>
<pre class="codehilite"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;ja&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;title&gt;éåŒæœŸå‡¦ç†ã®ç·´ç¿’&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;éåŒæœŸå‡¦ç†ã®ç·´ç¿’&lt;/h1&gt;
  &lt;div id=&quot;output&quot;&gt;&lt;/div&gt;
  &lt;script src=&quot;async-practice.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<h2 id="1">èª²é¡Œ1: å®Ÿè¡Œé †åºã‚’äºˆæ¸¬ã™ã‚‹</h2>
<p>ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã®å®Ÿè¡Œé †åºã‚’äºˆæ¸¬ã—ã€å®Ÿéš›ã«å®Ÿè¡Œã—ã¦ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p>
<pre class="codehilite"><code class="language-javascript">console.log(&quot;A&quot;);

setTimeout(() =&gt; {
  console.log(&quot;B&quot;);
}, 0);

console.log(&quot;C&quot;);

setTimeout(() =&gt; {
  console.log(&quot;D&quot;);
}, 1000);

console.log(&quot;E&quot;);
</code></pre>

<h3 id="_3">è§£ç­”</h3>
<pre class="codehilite"><code>A
C
E
Bï¼ˆ0ãƒŸãƒªç§’å¾Œã§ã‚‚ã€åŒæœŸå‡¦ç†ã®å¾Œã«å®Ÿè¡Œã•ã‚Œã‚‹ï¼‰
Dï¼ˆ1ç§’å¾Œï¼‰
</code></pre>

<p><code>setTimeout</code>ã¯0ãƒŸãƒªç§’ã‚’æŒ‡å®šã—ã¦ã‚‚ã€åŒæœŸå‡¦ç†ãŒã™ã¹ã¦å®Œäº†ã—ãŸå¾Œã«å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ã“ã‚Œã¯JavaScriptã®ã€Œã‚¤ãƒ™ãƒ³ãƒˆãƒ«ãƒ¼ãƒ—ã€ã®ä»•çµ„ã¿ã«ã‚ˆã‚‹ã‚‚ã®ã§ã™ã€‚</p>
<h2 id="2">èª²é¡Œ2: ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒãƒ¼ã‚’ä½œæˆã™ã‚‹</h2>
<p>æŒ‡å®šã—ãŸç§’æ•°ã‹ã‚‰ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³ã—ã€0ã«ãªã£ãŸã‚‰ã€Œå®Œäº†ï¼ã€ã¨è¡¨ç¤ºã™ã‚‹ã‚¿ã‚¤ãƒãƒ¼ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚</p>
<h3 id="_4">è¦ä»¶</h3>
<ol>
<li><code>countdown(seconds)</code> é–¢æ•°ã‚’ä½œæˆ</li>
<li>1ç§’ã”ã¨ã«æ®‹ã‚Šç§’æ•°ã‚’è¡¨ç¤º</li>
<li>0ã«ãªã£ãŸã‚‰ã€Œå®Œäº†ï¼ã€ã‚’è¡¨ç¤º</li>
</ol>
<h3 id="_5">è§£ç­”ä¾‹</h3>
<pre class="codehilite"><code class="language-javascript">function countdown(seconds) {
  console.log(`ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³é–‹å§‹: ${seconds}ç§’`);

  for (let i = seconds; i &gt;= 0; i--) {
    setTimeout(() =&gt; {
      if (i &gt; 0) {
        console.log(i);
      } else {
        console.log(&quot;å®Œäº†ï¼&quot;);
      }
    }, (seconds - i) * 1000);
  }
}

countdown(5);

// å‡ºåŠ›:
// ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³é–‹å§‹: 5ç§’
// 5ï¼ˆå³åº§ã«ï¼‰
// 4ï¼ˆ1ç§’å¾Œï¼‰
// 3ï¼ˆ2ç§’å¾Œï¼‰
// 2ï¼ˆ3ç§’å¾Œï¼‰
// 1ï¼ˆ4ç§’å¾Œï¼‰
// å®Œäº†ï¼ï¼ˆ5ç§’å¾Œï¼‰
</code></pre>

<h2 id="3-promise">èª²é¡Œ3: Promiseã‚’ä½¿ã£ãŸãƒ‡ãƒ¼ã‚¿å–å¾—ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</h2>
<p>APIã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹å‡¦ç†ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã™ã‚‹é–¢æ•°ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚</p>
<h3 id="_6">è¦ä»¶</h3>
<ol>
<li><code>fetchData(id)</code> é–¢æ•°ã‚’ä½œæˆï¼ˆPromiseã‚’è¿”ã™ï¼‰</li>
<li>1ç§’å¾Œã«ãƒ‡ãƒ¼ã‚¿ã‚’è¿”ã™</li>
<li>idãŒ0ä»¥ä¸‹ã®å ´åˆã¯ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™</li>
</ol>
<h3 id="_7">è§£ç­”ä¾‹</h3>
<pre class="codehilite"><code class="language-javascript">function fetchData(id) {
  return new Promise((resolve, reject) =&gt; {
    console.log(`ãƒ‡ãƒ¼ã‚¿å–å¾—ä¸­... (ID: ${id})`);

    setTimeout(() =&gt; {
      if (id &lt;= 0) {
        reject(new Error(&quot;ç„¡åŠ¹ãªIDã§ã™&quot;));
      } else {
        resolve({
          id: id,
          title: `ãƒ‡ãƒ¼ã‚¿ ${id}`,
          createdAt: new Date().toISOString()
        });
      }
    }, 1000);
  });
}

// æˆåŠŸãƒ‘ã‚¿ãƒ¼ãƒ³
fetchData(1)
  .then((data) =&gt; {
    console.log(&quot;å–å¾—æˆåŠŸ:&quot;, data);
  })
  .catch((error) =&gt; {
    console.error(&quot;ã‚¨ãƒ©ãƒ¼:&quot;, error.message);
  });

// å¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³
fetchData(-1)
  .then((data) =&gt; {
    console.log(&quot;å–å¾—æˆåŠŸ:&quot;, data);
  })
  .catch((error) =&gt; {
    console.error(&quot;ã‚¨ãƒ©ãƒ¼:&quot;, error.message);
  });
</code></pre>

<h2 id="4-promise">èª²é¡Œ4: Promiseãƒã‚§ãƒ¼ãƒ³ã‚’ä½¿ã£ãŸé€£ç¶šå‡¦ç†</h2>
<p>ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’å–å¾—ã—ã€ãã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æŠ•ç¨¿ä¸€è¦§ã‚’å–å¾—ã—ã€æœ€åˆã®æŠ•ç¨¿ã®ã‚³ãƒ¡ãƒ³ãƒˆã‚’å–å¾—ã™ã‚‹å‡¦ç†ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚</p>
<h3 id="_8">è§£ç­”ä¾‹</h3>
<pre class="codehilite"><code class="language-javascript">// ãƒ¦ãƒ¼ã‚¶ãƒ¼å–å¾—
function getUser(userId) {
  return new Promise((resolve) =&gt; {
    setTimeout(() =&gt; {
      resolve({ id: userId, name: &quot;å±±ç”°å¤ªéƒ&quot; });
    }, 500);
  });
}

// æŠ•ç¨¿å–å¾—
function getPosts(userId) {
  return new Promise((resolve) =&gt; {
    setTimeout(() =&gt; {
      resolve([
        { id: 1, userId: userId, title: &quot;æœ€åˆã®æŠ•ç¨¿&quot; },
        { id: 2, userId: userId, title: &quot;2ç•ªç›®ã®æŠ•ç¨¿&quot; }
      ]);
    }, 500);
  });
}

// ã‚³ãƒ¡ãƒ³ãƒˆå–å¾—
function getComments(postId) {
  return new Promise((resolve) =&gt; {
    setTimeout(() =&gt; {
      resolve([
        { id: 1, postId: postId, text: &quot;ç´ æ™´ã‚‰ã—ã„è¨˜äº‹ã§ã™ï¼&quot; },
        { id: 2, postId: postId, text: &quot;å‚è€ƒã«ãªã‚Šã¾ã—ãŸ&quot; }
      ]);
    }, 500);
  });
}

// Promiseãƒã‚§ãƒ¼ãƒ³ã§é€£çµ
console.log(&quot;å‡¦ç†é–‹å§‹&quot;);

getUser(1)
  .then((user) =&gt; {
    console.log(&quot;ãƒ¦ãƒ¼ã‚¶ãƒ¼å–å¾—:&quot;, user.name);
    return getPosts(user.id);
  })
  .then((posts) =&gt; {
    console.log(&quot;æŠ•ç¨¿å–å¾—:&quot;, posts.length, &quot;ä»¶&quot;);
    return getComments(posts[0].id);
  })
  .then((comments) =&gt; {
    console.log(&quot;ã‚³ãƒ¡ãƒ³ãƒˆå–å¾—:&quot;, comments.length, &quot;ä»¶&quot;);
    comments.forEach((comment) =&gt; {
      console.log(`  - ${comment.text}`);
    });
  })
  .catch((error) =&gt; {
    console.error(&quot;ã‚¨ãƒ©ãƒ¼:&quot;, error);
  })
  .finally(() =&gt; {
    console.log(&quot;å‡¦ç†å®Œäº†&quot;);
  });
</code></pre>

<h2 id="5-promiseall">èª²é¡Œ5: Promise.allã‚’ä½¿ã£ãŸä¸¦åˆ—å‡¦ç†</h2>
<p>è¤‡æ•°ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‡ãƒ¼ã‚¿ã‚’åŒæ™‚ã«å–å¾—ã—ã€å…¨å“¡ã®åå‰ã‚’è¡¨ç¤ºã—ã¦ãã ã•ã„ã€‚</p>
<h3 id="_9">è§£ç­”ä¾‹</h3>
<pre class="codehilite"><code class="language-javascript">function getUser(userId) {
  return new Promise((resolve) =&gt; {
    const names = [&quot;ç”°ä¸­&quot;, &quot;ä½è—¤&quot;, &quot;éˆ´æœ¨&quot;, &quot;é«˜æ©‹&quot;, &quot;æ¸¡è¾º&quot;];
    setTimeout(() =&gt; {
      resolve({
        id: userId,
        name: names[userId - 1] || `ãƒ¦ãƒ¼ã‚¶ãƒ¼${userId}`
      });
    }, Math.random() * 1000); // ãƒ©ãƒ³ãƒ€ãƒ ãªé…å»¶
  });
}

// 5äººã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä¸¦åˆ—ã§å–å¾—
const userPromises = [
  getUser(1),
  getUser(2),
  getUser(3),
  getUser(4),
  getUser(5)
];

console.log(&quot;å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å–å¾—ä¸­...&quot;);

Promise.all(userPromises)
  .then((users) =&gt; {
    console.log(&quot;å–å¾—å®Œäº†ï¼&quot;);
    users.forEach((user) =&gt; {
      console.log(`  ID: ${user.id}, åå‰: ${user.name}`);
    });
  })
  .catch((error) =&gt; {
    console.error(&quot;ã‚¨ãƒ©ãƒ¼:&quot;, error);
  });
</code></pre>

<h2 id="_10">âœ¨ ã¾ã¨ã‚</h2>
<p>ã“ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã§ã¯ã€ä»¥ä¸‹ã®ã“ã¨ã‚’å®Ÿè·µã—ã¾ã—ãŸã€‚</p>
<ul>
<li><code>setTimeout</code>ã‚’ä½¿ã£ãŸéåŒæœŸå‡¦ç†ã®å®Ÿè¡Œé †åºã®ç†è§£</li>
<li>Promiseã‚’ä½¿ã£ãŸéåŒæœŸå‡¦ç†ã®ä½œæˆ</li>
<li>Promiseãƒã‚§ãƒ¼ãƒ³ã«ã‚ˆã‚‹é€£ç¶šå‡¦ç†</li>
<li><code>Promise.all</code>ã‚’ä½¿ã£ãŸä¸¦åˆ—å‡¦ç†</li>
</ul>
<p>æ¬¡ã®ãƒãƒ£ãƒ—ã‚¿ãƒ¼ã§ã¯ã€Promiseã‚’ã‚ˆã‚Šç›´æ„Ÿçš„ã«æ›¸ã‘ã‚‹<code>async/await</code>ã¨ã€å®Ÿéš›ã®APIé€šä¿¡ã«ä½¿ã†<code>fetch API</code>ã«ã¤ã„ã¦å­¦ã‚“ã§ã„ãã¾ã—ã‚‡ã†ã€‚</p>
</div>
<div class="section-nav">
<a href="tutorial05_JavaScript_å¿œç”¨ã¨éåŒæœŸå‡¦ç†_chapter01_éåŒæœŸå‡¦ç†ã®åŸºç¤_5-1-3: Promiseã®åŸºæœ¬.html" class="prev">Promiseã®åŸºæœ¬</a>
<span></span>
</div>

                </div>
            </div>
        </div>
        <footer>
            &copy; 2025 pro-contents
        </footer>
    </div>
</body>
</html>
